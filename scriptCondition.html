<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.min.js" integrity="sha384-7qAoOXltbVP82dhxHAUje59V5r2YsVfBafyUDxEdApLPmcdhBPg1DKg1ERo0BZlK" crossorigin="anonymous"></script>

    <style>
      .err_msg {
        color: red;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="mb-3 row">
        <label for="staticEmail" class="col-sm-2 col-form-label">Email</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="staticEmail" />
        </div>
      </div>

      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-2 col-form-label"
          >Password</label
        >
        <div class="col-sm-10">
          <input type="password" class="form-control" id="inputPassword" />
        </div>
      </div>

      <div id="msg"></div>

      <div class="mb-3 row">
        <div class="col-sm-10">
          <button type="button" class="btn btn-primary" id="loginBtn">
            login
          </button>
          <button type="button" class="btn btn-danger" id="resetBtn">
            reset
          </button>
        </div>
      </div>

      <!-- error message -->
      <div id="err_empty_email_pwd" style="display: none">
        <div class="err_msg">이메일 또는 패스워드를 입력해주세요.</div>
      </div>

      <div id="for_msg"></div>
      <ul id="map_result"></ul>


    </div>

    <script>
      /*
        조건문(condition)
        - 주어진 조건을 만족할 때만 코드를 실행하게 하는 문법
        - 조건에 따라서 다른 동작을 실행하고 싶을 때 조건문을 사용
        */

      let age = 19;
      let price = 10000;

      if (age >= 19) {
        console.log(`성인 인증되었습니다. 지불 금액은 ${price} 입니다.`);
      } else {
        console.log(`미성년자로 인증되었습니다. 지불 금액은 ${price / 2}`);
      }

      // switch ~ case 구문
      // 자판기 1. 토레타 2. 박카스 3. 맥주

    //   let number = window.parseInt(
    //     window.prompt("자판기에서 원하시는 메뉴를 선택하세요!")
    //   );

      let number = 1;
      console.log(`[debug] >>> type`, typeof number);
      console.log(`[debug] >>> 선택하신 번호는 ${number} 입니다.`);

      switch (number) {
        case 1:
          console.log(`선택하신 음료는 토레타입니다.`);
          break;
        case 2:
          console.log("선택하신 음료는 박카스입니다.");
        case 3:
          console.log("선택하신 음료는 맥주입니다.");
      }

      document.querySelector('#loginBtn').onclick = () => {
        alert('btn click');
        let email = document.querySelector('#staticEmail').value;
        let passwd = document.querySelector('#inputPassword').value;
        if(email == '' || passwd == '') {
            let msg = document.querySelector('#msg');
            console.log(`[debug] >>> msg ${msg}`);

            let err = document.querySelector('#err_empty_email_pwd');
            err.style.display = 'block';
            msg.appendChild(err);
        } else {
            alert(`로그인 데이터 요청 ${email}, ${passwd}`);
        }
      };

      // ############################ for sample

      let deckAry = [
        { img : '커피', price : 150, description : '제일 맛있는 커피' },
        { img : '커피', price : 150, description : '제일 맛있는 커피' },
        { img : '커피', price : 150, description : '제일 맛있는 커피' },
      ];
      console.log(`[debug] >>> 배열의 길이는 legth : ${deckAry.length}`);
      
      let divFor = document.querySelector('#for_msg');

      for(i=0; i<deckAry.length; i++) {
        card = deckAry[i];
        pTag = document.createElement('p');
        pTag.textContent = `${card.img} - ${card.price} - ${card.description}`;
        brTag = document.createElement('br');
        divFor.appendChild(pTag);
        divFor.appendChild(brTag);
    }

    // 배열이 가지고 있는 map()
    // 배열의 각 요소를 변형해서 새로운 배열을 반환하는 함수

    // 중괄호에선 return 필수
    // descAry = deckAry.map((card) => {
    //     return card.description;
    // });

    descAry = deckAry.map(card => card.img);
    console.log(`[debug] >>> deckAry`, descAry);
    
    const ul = document.querySelector('#map_result');

    descAry.forEach(element => {    
        const li = document.createElement('li');
        li.textContent = element;
        ul.appendChild(li);
    });

    </script>
  </body>
</html>
